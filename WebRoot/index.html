<html lang="en">
<!-- Authour: Dustin Harris -->
<!-- GitHub: https://github.com/DevL0rd -->

<head>
    <title>Chillspace</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/fa-svg-with-js.css">
    <link rel="stylesheet" href="css/sytles.css">
</head>

<body>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-119904084-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-119904084-1');
    </script>

    <nav id="nav" class="navbar navbar-expand navbar-dark">
        <a class="navbar-brand" href="javascript:void(0)">
            <img src="img/logo_white.png" height="30" class="d-inline-block align-top" alt="">
        </a>

        <div id="videoTitleText" class="d-none d-sm-block">
            Nothing playing
        </div>
        <span class="navbar-nav dropdown ml-auto">
            <a class="dropdown-toggle nav-link" href="javascript:void(0)" id="onlineDrop" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                <i class="fas fa-eye"></i>
                <span id="onlineCount"></span>
            </a>
            <div id="onlineUsers" class="dropdown-menu dropdown-menu-right customScroll" aria-labelledby="onlineDrop">
                <div id="userBar0" class="userBarTemplate dropdown-item">
                    <img class="userBarPhoto">
                    <span class="userBarName">
                        Username here
                    </span>
                </div>
            </div>
        </span>
        <span class="navbar-nav dropdown">
            <a class="dropdown-toggle nav-link" href="javascript:void(0)" id="userDrop" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i id="profileIcon" class="fas fa-user"></i>
                <img id="profilePic" style="display: none;">
            </a>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDrop">
                <a id="loginLink" class="dropdown-item" href="#login" data-toggle="modal">Login</a>
                <a id="logoutLink" class="dropdown-item" href="javascript:void(0)" onclick="javascript:logout();">Logout</a>
            </div>

        </span>

    </nav>

    <div class="row fadeIn">
        <div id="playerArea" onmousemove="showControls()" class="col-lg-9">
            <div id="playerContainer">
                <video id="player" autoplay muted></video>
                <div id="videoLoadingCover">
                    <div class="centerHorz" style="height: 100%;">
                        <div class="centerVert">
                            <img src="/img/loading.gif" class="loadingGif">
                        </div>
                    </div>
                </div>
                <div id="chatFloatArea">

                </div>
                <div id="videoOverlay">
                    <input id="videoUrl" type="text" placeholder="Login to add a video" disabled>
                    <select id="searchMethodSelector">
                        <option>Youtube</option>
                        <option>Direct Url</option>
                    </select>
                    <div id="playListBar0" class="playListBar">
                        <img class="videoUserPhoto">
                        <span class="playlistTitle">

                        </span>
                        <span class="voteBox">
                            Vote 0
                        </span>
                    </div>
                    <div id="playlist" class="customScroll">

                    </div>
                    <div id="searchResult0" class="searchResult">
                        <div class="videoInfo">
                            <img class="videoThumbnail">
                            <span class="videoTitle"></span>
                        </div>
                        <div class="videoData">
                            <span class="videoSource"></span>
                        </div>


                    </div>
                    <div id="searchResults" class="customScroll">

                    </div>
                    <div id="controls">
                        <button id="togglePlay" onclick="togglePlay()">
                            <i class="fa fa-play" aria-hidden="true"></i>
                        </button>
                        <span id="volumeDropdown" class="dropdownMenu">
                            <input id="volumeSlider" type="range" orient="vertical" min="0" max="100" step="0.01">
                        </span>
                        <input id="videoTrack" type="range" min="0" max="10" step="0.01">
                        <button id="toggleFullscreen">
                            <i class="fas fa-arrows-alt"></i>
                        </button>
                        <button id="volume">
                            <i class="fa fa-volume-up" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="chat" class="col-lg-3">
            <div id="chatBox0" class="chatBox">

                <div class="dropdown show">

                    <a class="btn dropdown-toggle chatUserInfoHolder" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true"
                        aria-expanded="false">

                        <img class="chatBoxPhoto">
                        <span class="badges"></span>
                        <span class="chatUsername">
                            Username here
                        </span>
                    </a>

                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                        <a class="dropdown-item viewProfileButton" href="#">View Profile</a>
                        <a class="dropdown-item clearMessagesButton" href="#">Clear Messages</a>
                        <a class="dropdown-item muteUserButton" href="#">Mute</a>
                    </div>
                </div>
                <div class="chatMessage">
                    Test message
                </div>
            </div>
            <div class="chatHeader">Chat</div>
            <div id="chatLog" class="customScroll">

            </div>
            <div id="typingNotice">
                <span id="typingNoticeText">
                    Someone is typing...
                </span>
            </div>
            <input id="chatBar" type="text" placeholder="Login to use chat" disabled>
        </div>

    </div>
    <div id="login" class="modal fade text-center">
        <div class="modal-dialog">
            <div class="modal-content loginModal">
                <div class="login-user-img">
                    <img id="loginImg" src="img/profilePics/noprofilepic.jpg">
                </div>
                <button type="button" class="close closeLogin" data-dismiss="modal">
                    <i class="fas fa-times"></i>
                </button>
                <div id="loginGreeting">
                    <h1>Login pl0x</h1>
                    <span>Logging in enables you to share videos and to join in chat!</span>
                </div>
                <div id="loginOutput">

                </div>
                <div id="loginInputs" class="form-input">
                    <div class="form-group">
                        <input id="login_email" type="email" class="form-control" placeholder="Email">
                    </div>
                    <div class="form-group">
                        <input id="login_username" class="form-control" placeholder="Username" style="display:none;">
                    </div>
                    <div class="form-group">
                        <input id="login_pswd" type="password" class="form-control" placeholder="Password">
                    </div>
                    <div class="form-group">
                        <input id="login_passwordcheck" type="password" class="form-control" placeholder="Confirm Password" style="display:none;">
                    </div>
                    <button id="login_button" type="submit" class="btn btn-success" onclick="loginButton()">Login</button>
                    <button id="register_button" type="submit" class="btn btn-success" onclick="showRegister()">Create An Account</button>
                    <a href="javascript:void(0)">Forgot Password?</a>
                </div>
            </div>
        </div>
    </div>
    <div id="pageLoadingCover">
        <div class="centerVert">
            <img src="/img/loading.gif" class="loadingGif">
            <h1 style="color:rgb(206, 206, 206); font-size: 16px;">
                Chillspace is loading...
            </h1>
        </div>
    </div>
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/popper-1.14.0.min.js"></script>
    <script src="js/bootstrap-4.1.0.min.js"></script>
    <script src="js/fontawesome-all.min.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/socket.io.js"></script>
    <script src="js/client.js"></script>
    <script src="js/accounts.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/video.js"></script>
    <script src="js/tutorial.js"></script>
    <script>
        var chatIsShowing = true;

        function toggleChat() {
            $("#chat").toggleClass("collapsed");
            $("#media").toggleClass("col-lg-9 col-lg-12");
        }

        function resizeChat() {
            if (window.innerWidth < 992) {
                $("#chat").height(window.innerHeight - $("#nav").innerHeight() - $("#playerArea").innerHeight());

            } else {
                $("#chat").height("100%")
                $("#chat").height($("#chat").innerHeight() - $("#nav").innerHeight())
            }
            scrollToEndOfChat();
        }
        var resizeTimeout
        window.onresize = function () {
            clearTimeout(resizeTimeout);
            resizeChat();
        }
        $("#player").resize(function () {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(function () {
                resizeChat();
            }, 100)
        });
        window.onload = function () {
            resizeChat();
            $("#pageLoadingCover").fadeOut(1000);
            setTimeout(function () {
                $("#videoOverlay").fadeOut(400);
            }, 6000)
        }
    </script>
</body>

</html>